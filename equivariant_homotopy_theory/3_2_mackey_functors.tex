In this section, we introduce Mackey functors, which play a role analogous to abelian groups for equivariant stable
homotopy theory: given a Mackey functor $\underline M$, we can define an Eilenberg-Mac Lane $G$-spectrum
$H\underline M$, which represents $\RO(G)$-graded cohomology in $M$. Moreover, by remembering the transfer map, we
can realize cohomology theories as valued in Mackey functors.
\begin{defn}
A \term{Mackey functor} is a functor $B_G\op\to\Ab$.
\end{defn}
Restricting to spans of the form $X\stackrel\id\gets X\to Y$ defines a covariant functor
$\sO_G\to B_G$, and restricting to spans of the form $Y\gets X\stackrel\id\to X$ defines a contravariant functor
$\sO_G\op\to B_G$. Composing with a Mackey functor $F$ defines a pair of functors $\sO_G\op\to\Ab$ and
$\sO_G\to\Ab$. We'll denote the image of an $f\colon X\to Y$ under these functors as $f^*$ and $f_*$, and given a
pullback diagram
\[\xymatrix{
	X'\ar[r]^{f'}\ar[d]^{g'}\pushoutcorner & X\ar[d]^g\\
	Y'\ar[r]^f & Y,
}\]
Mackey functors satisfy the \term{Chevalley condition} $g^*f_* = f_*'(g')^*$.
\begin{prop}
$\pi_*^H(\bl)$ defines a Mackey functor.
\end{prop}
The two functors $\sO_G,\sO_G\op\to\Ab$ are evident, coming from the usual maps in the orbit category and the
transfer maps, but there are axioms to check.

Let $M$ be a Mackey functor. Then, there exists an object $\mathit{HM}\in\Spc^G$, called the
\term{equivariant Eilenberg-Mac Lane spectrum} for $M$, whose homotopy groups $\pi_G^*$ are determined by $M$.
\begin{defn}
The \term[cohomology!with coefficients in a Mackey functor]{cohomology} of an $X\in\Spc^G$ with coefficients in a
Mackey functor $M$ is
\[H^n(X;M)\coloneqq [X, \Sigma^n \mathit{HM}],\]
which defines a $\Z$-graded cohomology theory. Moreover, one can define an $\RO(G)$-graded cohomology
theory\index{RO(G)-graded cohomology theory@$\RO(G)$-graded cohomology theory}
\[H^V(X;M)\coloneqq [X, \Sigma^V \mathit{HM}],\]
where $V$ is a representation in $U$.
\end{defn}
The definition of an $\RO(G)$-graded cohomology theory requires some care, and we will investigate this; the naïve
definition you might write down is likely to be wrong for subtle reasons. Nonetheless, it's still worth writing
down.

The central algebraic analogue of the equivariant stable category is given by the category of Mackey functors.
Mackey functors form a symmetric monoidal category under something called the box product; we'll define this later
in~\eqref{box_product}, and it's familiar, arising as a Kan extension just like Day convolution.\index{Kan
extension}\index{Day convolution}

The point is, it makes sense to talk about commutative monoids in the category of Mackey functors, which were first
considered by Green~\cite{Green} and are hence called \term*{Green functors}. These aren't quite the right objects,
however: we need to account for stable transfer data, which is what makes the equivariant stable category act the
way it does. The more sophisticated notion of a commutative ring in Mackey functors involves additional
multiplicative transfer data; these are called \term*{Tambara functors} or \term*{TNR functors}, and were
introduced by Tambara~\cite{Tambara}. We'll discuss Green functors in \S\ref{green_functor} and Tambara functors
in \S\ref{tambara_functor}.

Up to now, everything we've done was known to tom Dieck and can be found (perhaps not in this language)
in~\cite{LMS}. But this stuff is more modern: this perspective on Tambara functors was popularized by~\cite{HHR}.
Multiplicative transfers were originally considered by \cite{Evens} in representation theory, and
\cite{GreenleesMay} also wrote about them, but~\cite{HHR} innovated the norm and how it interacts with these
multiplicative transfer maps.

This leads to an interesting question about calculations, which appears as soon as you try to start doing things.
\begin{ques}
On the homotopy groups $\pi_*"\bl$, we have restrictions and transfer maps. What can we say about the composite of
a restriction map and a transfer map, or a transfer map and a restriction map?
\end{ques}
The answer involves double coset formulae, and can be thought of in a few ways: we'll start with the classical
perspective and become more modern.

For the rest of this section, assume $G$ is a finite group.

We'll let $G\Set$ denote the category of finite $G$-sets and equivariant maps. When we work with $\RO(G)$-graded
theories, it will be important to embed everything in some universe, an infinite $G$-set containing all finite
$G$-sets up to isomorphism. It's okay to be lax about this at first, but there are subtleties to $\RO(G)$-graded
theories that make this important; \cite{GuillouMay} provided the first proof of the folklore result that
$G$-spectra are spectral presheaves on the Burnside category, but there were important coherence issues to work
out, for example.\index{G-spectrum@$G$-spectrum!via spectral Mackey functors}

We've seen that a Mackey functor $\underline M$ is specified by a pair of functors $M_*,M^*$, where $M_*\colon
G\Set\to\Ab$ is covariant, $M^*\colon (G\Set)\op\to\Ab$ is contravariant, and $M_*$ and $M^*$ agree on objects, so
it makes sense to write $\underline M(T)$ or $\underline M(G/H)$ (the latter may also be written $\underline
M(H)$).

Mackey functors are determined by their restrictions to orbits, as $\underline M(A\amalg B) = \underline
M(A)\oplus\underline M(B)$ and given a pullback
\[\xymatrix{
	W\pullback\ar[r]^\alpha\ar[d]_\beta & X\ar[d]^\gamma\\
	Y\ar[r]_\delta & Z,
}\]
$M_*(\beta)M^*(\alpha) = M^*(\delta)M_*(\gamma)$. This resembles the six-functor formalism.\index{six-functor
formalism}

You should think of Mackey functors as abstracting double coset formulae, especially when reading the literature or
in representation theory: they tell you something about how restriction and transfer maps commute.\index{double
cosets}
\begin{prop}
The category of Mackey functors is abelian.
\end{prop}
We'll find this useful later, when we need to do homological algebra.

Suppose $H$ and $K$ are subgroups of $G$ and $f\colon G/H\to G/K$ is a $G$-map. Then, we call $\Res_H^K\coloneqq
M^*(f)$ a \term[restriction map!for a Mackey functor]{restriction map} and $\Tr_H^K\coloneqq M_*(f)$ a
\term[transfer map!for a Mackey functor]{transfer map}.
\begin{exm}\hfill
\label{Mackeyexm}
\begin{enumerate}
	\item Let $X$ be a $G$-space. Then, $\pi_n"\bl(X)$, the functor sending $G/H\mapsto\pi_n^H(X)$, is a Mackey
	functor: by the Wirthmüller isomorphism and the fact that orbits are self-dual,\index{Wirthmüller isomorphism}
	\[\pi_n^H(X)\cong [S^n\wedge G/H_+, X]\cong [S^n, X\wedge G/H_+],\]
	so it's clear how a map $G/H\to G/K$ induces both a right-way and a wrong-way map.
	\item Let $\underline\Z$ denote the \term{constant Mackey functor} in $\Z$, which assigns $\Z$ to every object.
	The restriction maps are all the identity, and the transfer $G/H\to G/K$ is multiplication by $\abs{H/K}$.
	\item The \term{Burnside Mackey functor} $A(G)$ is defined by letting $A(G)(G/H)$ be the Grothendieck group of
	the symmetric monoidal category of finite $H$-sets under coproduct. The transfer and restriction maps come from
	induction and restriction, respectively, between $H\Set$ and $K\Set$.
	\item The \term{representation Mackey functor} $R(G)$ is defined by letting $R(G)(G/H)$ be the Grothendieck
	group of finite-dimensional $H$-representations, with transfer and restriction given by
	$\Z[K]\otimes_{\Z[H]}\bl$.\footnote{\TODO: what's the base ring? It should be possible to define the
	representation ring Mackey functor for representations valued in any commutative ring.}
	\item The Burnside category is self-dual, i.e. there's an equivalence $B_G\simeq B_G\op$, which sends a span
	$G/H_1\gets G/K\to G/H_2$ to $G/H_2\gets G/K\to G/H_1$. If $M$ is a Mackey functor, then $M\rop\colon B_G\to
	B_G\op\to\Ab$ (reverse the arrows in $B_G$, then apply $M$) is also a Mackey functor, called the
	\term[opposite Mackey functor]{opposite} of $M$.
	\qedhere
\end{enumerate}
\end{exm}
\begin{exm}[\cite{StricklandTambara}]
The constant Mackey functor can be defined in greater generality: given a semigroup $M$ with an action of $G$ on
$M$, let $\underline M\colon B_G\op\to\Ab$ be the functor that on objects is $\underline M(G/H)\coloneqq
\Map^G(G/H,M) = M^H$, and on the span $\omega$ equal to
	\[\xymatrix{
		X & M\ar[l]_p\ar[r]^q & Y,
	}\]
we define $\underline M(\omega)\colon \underline M(X) \to \underline M(Y)$ by sending a map $u\colon X \to A$ to
\[\underline M(\omega)(u)(y) = \sum_{q(a) = y} u(p(a)).\]
This Mackey functor is called the \term[constant Mackey functor!for a semigroup]{constant Mackey functor}
$\underline M$ for $M$.
\end{exm}
\begin{ex}
Check that this is a functor.
\end{ex}
Furthermore, if the action of $G$ on $M$ is trivial, then we have that the restriction maps are identities, hence
the term constant Mackey functor. However, the transfers are not identities: $\Tr_H^K$ is multiplication by $\abs
H/\abs K$.

The representation Mackey functor contains the information of double coset formulae in representation theory.
Namely, suppose $H$ and $K$ are subgroups of $G$ contained in a common subgroup $J\subseteq G$. The universal
property of the product gives us a pullback diagram\index{double cosets}
\[\xymatrix{
	J/H\times J/K\pullback\ar[r]\ar[d] & J/K\ar[d]\\
	J/H\ar[r] & J/J.
}\]
If you apply induction to this, you obtain
\begin{equation}
\label{indcosets}
\gathxy{
	G\times_J (J/H\times J/K)\ar[r]\ar[d] & G\times_J(J/K)\cong G/K\ar[d]\\
	G/H\ar[r] & G/J.
}
\end{equation}
As a finite $G$-set, $J/H\times J/K$ is a coproduct of orbits, determined by their stabilizers.
\begin{ex}
Compute the stabilizer of a point in $G/H\times G/K$, therefore proving that
\[J/H\times J/K\cong \coprod_{X\in[H\backslash J/K]} G/(H\cap xKx^{-1}).\]
This is good practice for working with double cosets, and how group-theoretically, they behave much like ordinary
cosets.
\end{ex}
Thus~\eqref{indcosets} becomes
\begin{equation}
\label{finalcsdiag}
\gathxy{
	\coprod_{X\in[H\backslash J/K]} G/(H\cap xKx^{-1})\ar[r]^-{f_2}\ar[d]^{f_1} & G/K\ar[d]\\
	G/H\ar[r] & G/J.
}
\end{equation}
The point is that explicitly determining what $f_1$ and $f_2$ are will produce the double coset formulae. Since
$H\cap xKx^{-1}$ is a subgroup of $K$, we have a map $G/(H\cap xKx^{-1})\to G/H$, and taking the coproduct over
$x\in[K\backslash J/H]$ we obtain $f_1$.

$f_2$ is harder, but not much harder: after conjugating by $x$, we obtain a map $G/(x^{-1}Hx\cap K)\to G/K$,
so $f_2$ is conjugation followed by the natural map.

This means that you can compute how $\Res_H^k$ and $\Tr_H^K$ interact by looking at the two ways around the
diagram from $G/H$ to $G/K$, using the restriction and transfer maps for contravariance and covariance,
respectively.
\begin{equation}
\label{double_coset_formula}
\Res_K^G\Tr_H^G = \bigoplus_{x\in H\backslash G/K} \Tr_{H\cap xKx^{-1}}^K c_x\Res_{H\cap xK^{-1}x}^H,
\end{equation}
where $c_x$ is the conjugation map.
\begin{rem}
Some treatments define a Mackey functor directly in terms of the restriction and transfer maps with axioms
including the double coset formula~\eqref{double_coset_formula}. The more abstract approach we took follows
\cite{Dress}, while older treatments take the axiomatic approach. In general, the proofs of properties of Mackey
functors are sketched or left out in the literature, but \cite{Webb} and \citeme{Devinatz} are pretty good
references.
\end{rem}
