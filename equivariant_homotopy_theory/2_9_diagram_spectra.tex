This section is motivated by~\cite{MMSS}, an excellent paper that constructs the point-set stable category using
diagram spectra. You should absolutely read this paper; it's a masterwork of exposition and making things look
simple and clear in retrospect.

The approach of diagram spectra is different from, but equivalent to, the approaches taken
in~\cite{LMS,AlaskaNotes}.

Our goal is to define a complete, cocomplete, symmetric monoidal category $\Spc$ such that
\begin{itemize}
	\item the $S$-category is a full subcategory of $\Spc$, and
	\item there is a symmetric monoidal functor $\Sigma^\infty\colon\Top\to\Spc$, which is left adjoint to a right
	adjoint $\Omega^\infty\colon\Spc\to\Top$.
\end{itemize}
There's a sense in which $\Spc$ is the smallest category satisfying these hypotheses, or that you get it by adding
limits and colimits to $\cat S$. In particular, we are constructing a stable analogue of the category of
topological spaces, \emph{not} its homotopy category.
\begin{rem}
Historically, \citeme{Boardman} constructed the stable homotopy category as a formal completion of the
$S$-category. Then, people tried to find ``point-set models,'' stable model categories whose homotopy categories
are isomorphic to Boardman's category. There are several options, but explicit proofs that their homotopy
categories are equivalent to Boardman's are rare in the literature.\index{S-category@$S$-category}
\end{rem}
\begin{defn}
By a \term{diagram} $\fD$ we mean a small category, which we assume is enriched in $\Top$ and symmetric monoidal.
The category of \term[D-space@$\fD$-space]{$\fD$-spaces} is the category $\Fun(\fD,\Top)$ of enriched functors.
\index{diagram space|see {$\fD$-space}}
\end{defn}
The category of $\fD$-spaces is symmetric monoidal under \term{Day convolution}. The idea is to build a symmetric
monoidal product via left Kan extension: if $F$ and $G$ are $\fD$-spaces, the functor $F\overwedge
G\colon(d_1,d_2)\mapsto F(d_1)\wedge G(d_2)$ is a $(\fD\times\fD)$-space. To produce a $\fD$-space from this, let
$\boxtimes\colon\fD\to\fD$ be the monoidal product on $\fD$, and consider the left Kan extension\index{Kan
extension}
\begin{equation}
\label{Day_convolution}
\gathxy{
	\fD\times\fD\ar[r]^{F\overwedge G}\ar[d]_\boxtimes & \Top\\
	\fD\ar@{-->}[ur]_{F\wedge G}
}
\end{equation}
This is our symmetric monoidal product $F\wedge G$. More explicitly,
\begin{align*}
( F\wedge G)(z) &= \colim_{x\boxtimes y = z} F(x)\wedge G(y)\\
								&\coloneqq \int^{x, y\in \fD} F(x) \wedge G(y) \wedge \fD(x\boxtimes y, z).
\end{align*}
This looks like the usual convolution, and the analogy with harmonic analysis can be taken further, e.g.\ in an
unpublished paper of Isaksen-Behrens.

For any $d\in\fD$, there's an \term[evaluation!for diagram spaces]{evaluation} functor $\Ev_d\colon
\Fun(\fD,\Top_*)\to\Top_*$ sending $X\mapsto X(d)$. It's adjoint to $F_d\colon \Top_*\to\Fun(\fD,\Top_*)$ defined
by
\[(F_dA)(e)\coloneqq \Map_\fD(d, e)\wedge A_+.\]
The unit for the symmetric monoidal structure on $\Fun(\fD,\Top)$ is $F_0S^0$.

Let $R$ be a \term{commutative monoid object} in $\Fun(\fD,\Top)$, which approximately means there are maps
$F_0S^0\to R$, $S^0\to R(0)$, and a unital, associative, commutative map $R(d)\wedge R(e)\to R(d\boxtimes e)$. For
example, the unital condition is that the composition
\[\xymatrix{
	R(d)\wedge S^0\ar[r] & R(d)\wedge R(0)\ar[r] & R(d\boxtimes 0)\cong R(d)
}\]
must be the identity.

In this case, we can define the category $\Mod_R$ of \term[module!in diagram spaces]{$R$-modules} in
$\Fun(\fD,\Top)$, those $\fD$-spaces $M$ with an action map $\mu\colon R\wedge M\to M$ (satisfying the usual
conditions). This is also a symmetric monoidal category (this requires $R$ to be commutative), defined in the same
way as the tensor product of modules over a ring: $M\wedge_R N$ is the coequalizer
\[\xymatrix{
	M\wedge R\wedge N\dblarrow[r] &M\wedge N\ar[r] &M\wedge_R N.
}\]
\begin{exm}[Prespectra]
\label{prespectra}
Let $\fD = \N$, with only the identity maps. This is symmetric monoidal under addition: $[m]\boxtimes [n]\coloneqq
[m+n]$. The assignment $S_\N\colon[n]\mapsto S^n$ is a monoid in $\N$-spaces, and the category of $S_\N$-modules is
classically called \term{prespectra}; the monoidal structure is the identification of $S^m\wedge S^n\cong S^{m+n}$.

\begin{warn}
$S_\N$ is \emph{not} a commutative monoid! $S^n\wedge S^m\not\cong S^m\wedge S^n$.
\end{warn}
This was the cause of thirty years of pain and suffering in the community --- they didn't know they were unhappy.
People knew what the smash product should be on the homotopy category, and wanted a point-set model that's
symmetric monoidal, unlike this example.
\end{exm}
Symmetric spectra are one answer, which we won't use in these notes. If all of this had been stated in terms of the
Day convolution from the get-go, people probably would have figured out symmetric spectra as early as the 1960s,
but hindsight is always clearer, and here we are. Symmetric spectra were introduced in~\cite{HSS};
see~\cite{SchwedeSymmSpec} for a detailed introduction.\index{symmetric spectra}
\begin{exm}[Orthogonal spectra~\cite{MayOrthogonal}]
\label{orthogonal_spectra}
Let $\sI$ denote the category whose objects are finite-dimensional real inner product spaces $V$, and whose
morphisms $\sI(V,W)$ are the linear isometric isomorphisms $V\to W$.

In this category, $V\oplus W$ and $W\oplus V$ aren't equal, but are isomorphic, and the isomorphism between them is
reflected in the flip between $S^n\wedge S^m$ and $S^m\wedge S^n$. In particular, the assignment $S_\sI\colon
V\mapsto S^V$ (the one-point compactification of $V$) is a \emph{commutative} monoid, so the category of
$S_\sI$-modules is a symmetric monoidal category, called the category of \term[orthogonal spectrum]{orthogonal
spectra}. This is the model of the stable category that we will use.
\end{exm}
\begin{exm}[$\sW$-spaces~\cite{Anderson1974}]
\label{wspaces}
Let $\sW$ be the category of finite CW complexes (with either all maps or cellular maps; it doesn't really matter).
$\sW$-spaces are already like spectra, in a sense, in that they're modules over the identity functor
$i\colon\sW\inj\Top$. There's a map $\vp\colon A\to\Map(B, A\wedge B)$ sending $a\mapsto (b\mapsto a\wedge b)$, so
if $F$ is a $\sW$-space, we have a sequence of maps\index{W-spaces@$\sW$-spaces}
\[\xymatrix{
	A\ar[r]^-\vp & \Map(B, A\wedge B)\ar[r] &\Map(F(B), F(A\wedge B)).
}\]
Taking its adjoint defines a map
\[A\wedge F(B)\longrightarrow F(A\wedge B),\]
so $F$ is a module over $i$.
\end{exm}
The assignment $n\mapsto\R^n$ defines a functor $\N\to\sI$, and therefore a functor from prespectra to orthogonal
spectra; with the right model structures, this induces an equivalence of their homotopy categories. Similarly, the
assignment $V\mapsto S^V$ defines a functor $\sI\to\sW$, hence a functor from orthogonal spectra to $\sW$-spaces,
and this also will induce a homotopy equivalence.
\begin{exm}[$\Gamma$-spaces]
\label{gamma_spaces}
Let $\fD$ be the category of finite based sets and based maps, e.g.\ $n_+ = \set{0,1,\dotsc,n}$ with $0$ as the
basepoint. $\fD$-spaces are called \term*{$\Gamma$-spaces}, and agree with Segal's notion of
$\Gamma$-spaces~\cite{SegalGamma}, which are defined differently. The multiplication comes from the map $\psi\colon
2_+\to 1_+$ sending $1,2\mapsto 1$.\index{Gamma-space@$\Gamma$-space}

Let $d_i:n_+\to 1_+$ send $j\mapsto\delta_{ij}$ (i.e.\ $1$ if $i = j$, and $0$ otherwise). A $\Gamma$-space is
\term[special!for $\Gamma$-spaces]{special} if the induced map
\[X(n_+)\stackrel{\vp_n}{\longrightarrow} \prod_n X(1_+)\]
is a weak equivalence; it's \term[very special!for $\Gamma$-spaces]{very special} if in addition the composition
\[\xymatrix{
	X(1_+)\times X(1_+) & X(2_+)\ar[l]^-\simeq_-{\vp_2}\ar[r]^{\psi_*} &X(1_+)
}\]
induces a commutative monoid structure on $\pi_0 X(1_+)$.

Kan extension defines a functor from $\fD$ to the category of finite CW complexes, and working with
$\pi_*$-equivalences of these, one obtains a model structure on the category of $\Gamma$-spaces. This is Quillen
equivalent to the category of \term[connective spectrum]{connective spectra}, i.e.\ those whose negative homotopy
groups vanish.\index{Kan extension}\index{model structure!on
$\Gamma$-spaces}
\end{exm}
In the equivariant case, there's even more structure, and notions of ``extra special'' $\Gamma$-spaces, as we will
see in \S\ref{equivariant_gamma_space}.
\begin{defn}
A prespectrum is an \term*{$\Omega$-prespectrum} if for all $n$,
$X_n\congto\Omega^mX_{m+n}$.\index{Omega-prespectrum@$\Omega$-prespectrum|textit}
\end{defn}
\begin{defn}
If $X$ is a prespectrum and $q\in\Z$, the $q^{\text{th}}$ \term[homotopy groups!of a prespectrum]{homotopy group}
of $X$ is
\[\pi_q(X)\coloneqq \colim_n \pi_{n+q}X(n).\]
A \term[pistar-isomorphism@$\pi_*$-isomorphism]{$\pi_*$-isomorphism} of prespectra is a map that induces an
isomorphism on all homotopy groups.
\end{defn}
Notice that negative homotopy groups exist, and may be nontrivial.
\begin{rem}
This is one approach to defining the stable category, and is not the only one. In~\cite{AdamsStableHomotopy} (which
is an excellent book), Adams uses a more na√Øve viewpoint of ``cells first, maps later'' which doesn't require such
abstraction, but it would be a huge mess to prove that his model is complete or cocomplete. The diagram spectra
approach rigidly separates point-set techniques (easy, but not as useful) from operations on the homotopy category
(more useful, but harder), and this separation is often useful. The $\infty$-categorical perspective mashes it all
together, which can be confusing, but is the only setting in which you can prove things such as the stable
category being initial.
\end{rem}
We'll reintroduce $G$-actions soon, and this is pretty slick using orthogonal spectra: we can replace $\sI$ with
the category of finite-dimensional $G$-representations with invariant inner products. Orthogonal spectra also have
a really nice homotopy theory relative to symmetric spectra (which have other advantages that don't apply as much
to us).

% Today, we're going to discuss the homotopy theory of spectra in the nonequivariant setting. Last time, we discussed
% $\fD$-spaces, where $\fD$ is a small topological category, and saw that the category of $\fD$-spaces is symmetric
% monoidal. We discussed a few examples:
% \begin{itemize}
% 	\item Consider $\fD = \N$ with all maps isomorphisms, as in \cref{prespectra}. There's a \emph{non}commutative
% 	monoid $S_\N\colon n\mapsto S^n$, and the category of $S_\N$-modules is called prespectra
% 	$\Spc^\N$;\footnote{There are many different choices of notation for diagram spectra, as seen in~\cite{MMSS}
% 	and \cite{MandellMay}, with various fancy decorations.} it's a monoidal category, but is \emph{not} symmetric.
% 	\item In \cref{orthogonal_spectra}, we considered $\fD = \sI$, the category whose objects are real
% 	finite-dimensional inner product spaces and whose morphisms are the linear isometric isomorphisms. Here, the
% 	monoid $S_\sI\colon V\mapsto S^V$ is commutative, and the category of $S_\sI$-modules, called orthogonal
% 	spectra $\Spc^\sI$, is symmetric monoidal.
% \end{itemize}
% Those are the main examples for us, but there are others:
% \begin{itemize}
% 	\item When $\fD$ is the category of finite CW complexes, as in \cref{wspaces}, we obtain $\sW$-spaces.
% 	\item When $\fD$ is the category of finite, based sets and based maps, as in \cref{gamma_spaces}, we recover
% 	Segal's $\Gamma$-spaces.
% \end{itemize}
Because diagram categories are presheaves on nice categories, they inherit some good properties from $\Top_*$; in
particular, they are complete and cocomplete, and limits and colimits may be taken pointwise. This is also true for
categories of modules over monoids in $\fD$-spaces, though it requires more work to prove: computing colimits is a
bit harder, just like how the free product of groups is more complicated than the direct product. Categories of
rings are \emph{not} bicomplete, though.\index{presheaf!on a diagram category}

We'll use prespectra and orthogonal spectra to define Quillen equivalent models for the stable homotopy category.
As such, familiar constructions from stable homotopy theory can be constructed as prespectra and orthogonal
spectra.
\begin{exm}[Suspension spectra]
Let $X\in\Top_*$. The \term{suspension spectrum} of $X$, denoted $\Sigma^\infty X$, is the stable homotopy type
corresponding to the homotopy type of $X$.\footnote{For a space $X$ without basepoint, $X_+$ denotes the based
space $X\amalg *$, with the extra point as a basepoint. Then, one considers $\sus X_+$.}
\begin{itemize}
	\item In prespectra, the suspension spectrum of $X$ is $\Sigma^\infty X\colon [n]\mapsto S^n\wedge X$. The
	$S_\N$-module structure is the data of the structure maps $S^m\wedge (S^n\wedge X)\to S^{m+n}\wedge X$.
	\item To define an orthogonal spectrum $E$, one must define for each finite-dimensional real inner product
	space $V$ a pointed space $E(V)$ with an $\O(V)$-action and for each pair of such inner product spaces $V$ and
	$W$, a structure map $S^V\wedge E(W)\to E(V\oplus W)$ that's $\O(V)\times\O(W)$-equivariant.

	Wanting to do this for every space forces our hand: we have to use the trivial action. The suspension spectrum
	of $X$ sends $V\mapsto S^V\wedge X$, where the $\O(V)$-action is the usual action in the first component and
	the trivial action in the second component. The structure maps $S^V\wedge S^W\wedge X\to S^{V\oplus W}\wedge X$
	are $\O(V)\times\O(W)$-equivariant, as desired.
\end{itemize}
The suspension spectrum of $S^0$ is the sphere spectrum $S_\N$ or $S_\sI$.\index{sphere spectrum}
\end{exm}
\begin{exm}[Eilenberg-Mac Lane spectra]
\label{orthogonal_HA}
If $A$ is an abelian group, the \term{Eilenberg-Mac Lane spectrum} $HA$ is the spectrum that represents cohomology
with coefficients in $A$. If in addition $A$ is a commutative ring, $HA$ is a commutative monoid in spectra, which
defines the ring structure on $A$-cohomology.
\begin{itemize}
	\item There is an identification $K(A,n)\congto\Omega K(A, n+1)$; let $i_n\colon\Sigma K(A,n)\to K(A,n+1)$ be
	its adjoint. As an $\N$-space, $HA\colon [n]\mapsto K(A,n)$; the map $i_n$ makes it into a prespectrum. If $A$
	is also a commutative ring, one obtains maps $K(A,m)\wedge K(A,n)\to K(A,m+n)$, and these satisfy the axioms to
	ensure that $HA$ is a commutative ring spectrum.
	\item For orthogonal spectra, the construction is more complicated, since we must choose a model for $K(A,n)$
	with an $\O_n$-action on it. In particular, we must assume $A$ is countable. Given an inner product space $V$,
	the \term[linearization of a space]{$A$-linearization} $A[S^V]$ of $S^V$ is, as a set, $A$ tensored with the
	reduced free abelian group on $K$ (so the basepoint maps to zero), topologized as the quotient
	\[\qquad\qquad\qquad\coprod_{k=0}^\infty A^k\times (S^V)^k\surj A[S^V],\qquad\qquad
	(a_1,\dotsc,a_k,x_1,\dotsc,x_k) \mapsto\sum_{j=1}^k a_j\cdot x_j.\]
	This is a model for $K(A,\dim V)$, but has an $\O(V)$-action induced from the $\O(V)$-action on $S^V$. The
	structure map $S^V\wedge A[S^W]\to A[S^{V\oplus W}]$ sends
	\begin{equation}
	\label{orth_HA_structure_map}
	v\wedge\paren*[\Bigg]{\sum_j a_j\cdot w_j}\mapsto \sum_j a_j\cdot (v\wedge w_j),
	\end{equation}
	and this is $\O(V)\times\O(W)$-equivariant, so defines an orthogonal spectrum. If $A$ is a commutative ring,
	the ring spectrum structure on $HA$ is defined by the multiplication maps $\mu\colon A[S^V]\wedge A[S^W]\to
	A[S^{V\oplus W}]$ sending
	\[\mu\colon\paren{\sum_i a_ix_i}, \paren*[\Bigg]{\sum_j b_j y_j} \mapsto \sum_{i,j} (a_ib_j)(x_i\wedge y_j),\]
	and the unit maps $e\colon S^V\to A[S^V]$ send $x\mapsto 1\cdot x$. This construction is discussed in more
	detail in~\cite[Example I.1.14]{SchwedeSymmSpec} and~\cite[Example V.1.9]{SchwedeGlobal}.\qedhere
\end{itemize}
\end{exm}
\begin{exm}[Thom spectra]
% references: Schwede's symmetric spectra; May-Quinn-Ray
\TODO
\end{exm}

\begin{defn}
Let $f\colon X\to Y$ be a map of $\fD$-spaces (or prespectra or orthogonal spectra).
\begin{itemize}
	\item $f$ is a \term{level equivalence} if for all $d\in\fD$, $f(d)\colon X(d)\simeqto Y(d)$ is a weak
	equivalence.
	\item $f$ is a \term{level fibration} if for all $d\in\fD$, $f(d)$ is a fibration.
\end{itemize}
\end{defn}
That is, $f$ is a natural transformation, and it acts through weak equivalences (resp.\ fibrations).
\begin{thm}
The category of $\fD$-spaces has a model structure, called the \term{level model structure}, in which the weak
equivalences are the level equivalences and the fibrations are level fibrations. Moreover, this model category is
cofibrantly generated.
\end{thm}
\begin{ex}
Starting with the usual model structure on $\Top_*$, construct the level model structure.
\end{ex}
The ``cofibrantly generated'' part means that cofibrant objects behave like CW complexes, and in particular there
is a theory of cellular objects. If $F_d\colon\Top_*\to\Fun(\fD,\Top_*)$ is the left adjoint to $\Ev_d$ we
constructed above, then the \term[generating cofibrations!for the level model structure]{generating cofibrations}
are the maps $F_d(S_+^{n-1}\to D_+^n)$ for each $n\ge 1$ and $d\in\fD$, and the
\term[acyclic cofibrations!for the level model structure]{acyclic cofibrations} are $F_d(D_+^n\to (D_n\times I)_+)$
for each $n\ge 1$ and $d\in\fD$.

Since all spaces are fibrant, all $\fD$-spaces are fibrant in the level model structure. The cofibrant objects are
the retracts of \term[cellular objects!in the level model structure]{cellular objects}, which are built by iterated
pushouts
\[\xymatrix{
	\bigvee F_d S_+^{n-1}\ar[r]\ar[d] & X_n\ar[d]\\
	\bigvee F_dD_+^n\ar[r] & \pushout X_{n+1}.
}\]
While this is all nice, it's not what we're looking for, as it contains no information about stable phenomena. It's
like the category of spaces, just with more of them. For example, it's not even true that $X\to\Omega\Sigma X$ is a
weak equivalence, which is important if you want $\Omega$ and $\Sigma$ to be homotopy inverses. We'll define the
correct model structure in the next section.

Recall that we defined a $\pi_*$-isomorphism of prespectra to be a map $f\colon X\to Y$ such that $\pi_qf\colon
\pi_q X\to\pi_q Y$ is an isomorphism for all $q$. We'll extend this to orthogonal spectra: let
$U\colon\Spc^\sI\to\Spc^\N$ be pullback by the map $[n]\mapsto\R^n$, i.e.\ $UX([n]) = X(\R^n)$. $U$ is right
adjoint to a left Kan extension $P\colon\Spc^\N\to\Spc^\sI$.
\begin{defn}
A map of orthogonal spectra $f\colon X\to Y$ is a
\term[pistar-isomorphism@$\pi_*$-isomorphism!of orthogonal spectra]{$\pi_*$-isomorphism} if $Uf\colon UX\to UY$ is
a $\pi_*$-isomorphism of prespectra.
\end{defn}
We also defined an $\Omega$-spectrum in prespectra, or an $\Omega$-prespectrum, to be a prespectrum where the
adjoints to the structure maps $X_n\congto\Omega^mX_{n+m}$ are homeomorphisms. This is a pretty rigid condition,
and so $\Omega$-prespectra have nice properties.
\begin{defn}
Similarly, we define an \term*{$\Omega$-spectrum} in orthogonal spectra to be an orthogonal spectrum $X$ such that
the adjoints to the structure maps $X(U)\congto\Omega^V X(U\oplus V)$ are
homeomorphisms.\index{Omega-spectrum@$\Omega$-spectrum|textit}
\end{defn}
Classically, there were prespectra and then there were spectra (or $\Omega$-spectra), and you would use some
``spectrification'' functor that took a prespectrum and produced a spectrum of the same homotopy type. Turning the
adjoint maps into homeomorphisms looks difficult and is, as it involves some categorical and point-set wizardry. If
you like this stuff, check out the appendix of~\cite{LMS}. The first point-set symmetric monoidal model for the
stable category~\cite{EKMM} relies on this and even more magic, both clever and surprising.\index{spectrification}
